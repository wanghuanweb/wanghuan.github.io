#### 1.长连接短连接

**长连接：**
http1.1默认tcp是长连接，多个HTTP请求可以复用同一个TCP连接，这就节省了很多TCP连接建立和断开的消耗。
长连接不会长时间保持的，如果长时间没有响应，超时会自动断开的。

**短连接：**
在Htpp 1.0之前是没有长连接的，现在在http 1.1才开始有长连接，并且大部分都是长连接。短连接的流程就是：建立连接->发送数据->断开连接。一次发送之后立即断开连接。

使用长连接之后，客户端、服务端怎么知道本次传输结束呢？
两部分：
1.是判断传输数据是否达到了Content-Length指示的大小；
2.动态生成的文件没有Content-Length，它是分块传输（chunked），这时候就要根据chunked编码来判断，chunked编码的数据在最后有一个空chunked块，表明本次传输数据结束。

#### 2.长轮询短轮询

轮询比较好理解，就是向服务器发送请求，服务器返回请求结果。不断的操作，就叫轮询。

**短轮询：**
不断的轮询的时候，每次都是即时发送即时回复，这样来更新前端的数据，用来保证数据的前后台同步。
比如电商网站，每个物品的库存，是要不断更新的，就会在前段不断的发起请求，保证数据同步。
但这样有个缺点，就是浪费了大量的资源，假如有很多人在浏览这个物品，但是暂时都没有下单，大量的请求可能已经占用了服务器的所有资源。

**长轮询：**
长轮询就是为了解决这个问题来设计的，长轮询的操作都是一样的，前段发送请求给后端，后台接收到请求来返回，但是中间有一点不一样不是瞬间返回。也就是看是否后台的数据有更新，假如后台数据还没有更新，可以把请求暂时挂起来，这样就不会造成频繁请求堵塞服务器了。
假如一直没更新，那么就把数据超时返回就可以了。
